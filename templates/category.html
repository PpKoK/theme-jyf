<!DOCTYPE html>
<html 
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{modules/layout :: html(title = ${category.spec.displayName} + ' - ' + #{common.categories} + ' - ' + ${site.title}, content = ~{::content})}"
>
  <th:block th:fragment="content">
    <div class="category-posts">
      <h1 class="page-title">
        <span th:text="#{common.categories}">分类</span>: 
        <span th:text="${category.spec.displayName}"></span>
      </h1>
      
      <div class="post-list" th:if="${posts.total gt 0}">
        <article th:each="post : ${posts.items}" class="post-item">
          <div class="post-header-line">
            <div class="post-meta">
              <time th:text="${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"></time>
            </div>
            <h2 class="post-title">
              <a th:href="@{${post.status.permalink}}" th:text="${post.spec.title}"></a>
            </h2>
          </div>
          <div class="post-excerpt" th:if="${post.status.excerpt}" th:text="${post.status.excerpt}"></div>
        </article>
      </div>
      
      <div th:if="${posts.total == 0}" class="no-posts">
        <p th:text="#{common.noPosts}">暂无文章</p>
      </div>
      
      <!-- 分页 -->
      <div th:if="${posts.total gt 0}" class="pagination">
        <a 
          th:if="${posts.hasPrevious()}" 
          th:href="@{${posts.prevUrl}}" 
          class="pagination-btn"
          th:text="#{pagination.prev}"
        >上一页</a>
        <span class="pagination-info">
          <span th:text="${posts.page}"></span> / <span th:text="${posts.totalPages}"></span>
        </span>
        <a 
          th:if="${posts.hasNext()}" 
          th:href="@{${posts.nextUrl}}" 
          class="pagination-btn"
          th:text="#{pagination.next}"
        >下一页</a>
      </div>
    </div>
  </th:block>
</html>